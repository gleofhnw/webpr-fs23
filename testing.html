<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Scope Tests</title>
</head>
<body>
<script>
  /*function two() {
    x = 2;
    return x;
  }

  try {
    x;
    document.writeln(true);
  } catch(e) {
    document.writeln(false);
  }
  false
  */

  /*function two() {
    let x = 2;
    return x;
  }
  try {
    x;
    document.writeln(true);
  } catch(e) {
    document.writeln(false);
  }

  false*/

  /*let x = 0;
  function two() {
    let x = 2;
    return x;
  }
  try {
    x;
    document.writeln(x === 0);
  } catch(e) {
    document.writeln(false);
  }

  true*/

  /*function two() {
    x = 2;
    return x;
  }

  two();
  try {
    x;
    document.writeln(true);
  } catch(e) {
    document.writeln(false);
  }

  true*/

  /*let x = 0;
  function two() {
    x = 2;
    return x;
  }

  two();

  try {
    x;
    document.writeln(x === 0);
  } catch(e) {
    document.writeln(false);
  }

  false*/

  /*let x = 0;
  (function two() {
    let x = 2;
    return x;
  })();

  try {
    document.writeln(x === 0);
  } catch (e){
    document.writeln(false);
  }

  // true*/

  /*let x = 0;
  function two() {
    let x = 2;
    return x;
  }
  two();

  try {
    document.writeln(x === 0);
  } catch (e){
    document.writeln(false);
  }

  true*/

  /*let x = 0;
  ( () => {
    x = 2;
    return x;
  })();

  try {
    document.writeln(x === 0);
  } catch (e){
    document.writeln(false);
  }*/

  // x false  let x false*/

  /*let x = 0;
  function() {
    let x = 2;
    return x;
  }();

  try {
    document.writeln(x === 0);
  } catch (e){
    document.writeln(false);
  }

  false*/

  /*const id1 = x => x;
  const id2 = y => y;

  document.writeln(id1(1)===id2(1));

  const id = x=> x;

  const a1 = y => id(y);
  const a2 = y => y;

  document.writeln(a1(2)===a2(2));

  const konst = x => y => x;

  const k1 = x => y => konst(id)(x)(y);
  const k2 = x      => konst(id)(x);
  const k3 =           konst(id);

  document.writeln(k1(2)(2) === k2(2)(2));
  document.writeln(k2(1)(2) === k3(2)(2));

  document.writeln(id(1)===konst(1)(2));



  const F1 = x => (x=>x);
  const F2 = y => (x=>y);

  document.writeln(F1(1)(0)===F2(1)(0));*/

  /*const id = x=> x;
  const konst = x => y => x;

  const sndp = konst(id);


  const T = konst;

  const F = sndp;
const pair = a => b => f => f(a)(b);
const fst = p => p(T);
const snd = p => p(F);

const pairEq = a => b => fst(a) === fst(b) && snd(a) === snd(b);*/

// const pairPlus = a => b => pair (fst(a) + fst(b)) (snd(a) + snd(b));

//   const pairMap = f => p => pair (f(fst(p))) (f(snd(p)));
//
//
// const oneTwo = pair(1)(2);
// const square = x => x * x;
// const result = pairMap (square) (oneTwo);
//
// document.writeln(pairEq(result)(pair(1)(4)));


//true

  // Week 4

  // map; takes every element and creates a new "value" for it

  /*const times = a => b => a * b;

  const twoTimes = times(2);

  document.writeln([1,2,3].map(x => times(2)(x)));
  //Eta reduction
  document.writeln([1,2,3].map(times(2)));
  //Is assigned to another variable
  document.writeln([1,2,3].map(twoTimes));


  const twice = a => 2 * a;

  document.writeln("This is the test: "+ [1,2,3].map(twice));*/


  // filter; retain all elements that fulfill decleration

  /*const odd = x => x % 2 === 1;

  document.writeln([1,2,3].filter(x=>x%2===1));
  //Putting const in
  document.writeln([1,2,3].filter(x => odd(x)));
  //Eta reduction
  document.writeln([1,2,3].filter(odd));

  const divides = x => y => (y / x) % 1 === 0;

  document.writeln("TZhis is the test: "+[1,2,3,4,5,6].filter(divides(3)))*/



  //reduce; takes an array but doesnt work with single element, but rather multiple elements
  // "combined" elements
  /*const plus = (accu, curr) => accu + curr;

  document.writeln([1,2,3].reduce((accu,curr) => accu + curr));
  document.writeln([1,2,3].reduce(plus));
  document.writeln([1,2,3].reduce(plus, 0));

  const join = x => (val1, val2) => val1 +""+x+""+val2;

  document.writeln("This is the test: "+[1,2,3].reduce(join('-')));*/

  const e = {revenue: 10000, bonus: null};

  //Q10.A

  // const bonusFormula = "employee.bonus = employee.revenue * 0.3";

  // OLD const formulaArray = bonusFormula.split(" ");

  // OLD const bonusCalculation = x => eval(`${x}`+`.bonus = x.revenue * Number(formulaArray[4])`);

  // const bonusCalculation = employee => eval(bonusFormula);

  //Q10.B

  const bonusFormula = "employee.revenue * 0.2";

  const bonusCalculation = Function("employee", "return employee.bonus = " + bonusFormula + ";");

  //Check Test

  document.writeln(bonusCalculation(e));

  console.log(bonusCalculation(e));

  document.writeln(e.bonus === e.revenue * 0.2);








</script>
</body>
</html>

